library(tidyverse)
library(readr)
dat <- read_csv("data/all_2.csv")
names(dat)
dat %>% filter(date == as.Date('2021-11-01'))
dat %>% filter(date == as.Date('2021-11-01')) %>% select(date, location, total_cases, total_deaths)
dat %>% filter(date == as.Date('2021-11-01')) %>% select(date, location, total_cases, total_deaths, new_cases_smoothed_per_million, new_deaths_smoothed_per_million, population_density)
dat %>% filter(date == as.Date('2021-11-01')) %>% select(date, location, total_cases, total_deaths, new_cases_smoothed_per_million, new_deaths_smoothed_per_million, population_density) %>% ggplot(aes(total_cases_smoothed_per_million))
dat %>% filter(date == as.Date('2021-11-01')) %>% select(date, location, total_cases, total_deaths, new_cases_smoothed_per_million, new_deaths_smoothed_per_million, population_density) %>% ggplot(aes(total_cases))
dat %>% filter(date == as.Date('2021-11-01')) %>% select(date, location, total_cases, total_deaths, new_cases_smoothed_per_million, new_deaths_smoothed_per_million, population_density) %>% ggplot(aes(total_cases, population_density))
dat %>% filter(date == as.Date('2021-11-01')) %>% select(date, location, total_cases, total_deaths, new_cases_smoothed_per_million, new_deaths_smoothed_per_million, population_density) %>% ggplot(aes(total_cases, population_density, col = location)) + geom_point()
dat %>% filter(date == as.Date('2021-11-01')) %>% select(date, location, total_cases, total_deaths, new_cases_smoothed_per_million, new_deaths_smoothed_per_million, population_density) %>% ggplot(aes(total_cases, population_density, col = location, legend = FALSE)) +
dat %>% filter(date == as.Date('2021-11-01')) %>% select(date, location, total_cases, total_deaths, new_cases_smoothed_per_million, new_deaths_smoothed_per_million, population_density) %>% ggplot(aes(total_cases, population_density, col = location, legend = FALSE))
dat %>% filter(date == as.Date('2021-11-01')) %>% select(date, location, total_cases, total_deaths, new_cases_smoothed_per_million, new_deaths_smoothed_per_million, population_density) %>% ggplot(aes(total_cases, population_density, col = location, legend = FALSE)) + geom_point()
dat %>% filter(date == as.Date('2021-11-01')) %>% select(date, location, total_cases, total_deaths, new_cases_smoothed_per_million, new_deaths_smoothed_per_million, population_density) %>% ggplot(aes(total_cases, population_density, col = location, legend = FALSE)) + geom_point(show.legend = F)
dat %>% filter(date == as.Date('2021-11-01')) %>% select(date, location, total_cases, total_deaths, new_cases_smoothed_per_million, new_deaths_smoothed_per_million, population_density) %>% ggplot(aes(total_cases, population_density, col = location, legend = FALSE)) + geom_point(show.legend = F) + scale_y_log10()
dat %>% filter(date == as.Date('2021-11-01')) %>% select(date, location, total_cases, total_deaths, new_cases_smoothed_per_million, new_deaths_smoothed_per_million, population_density) %>% ggplot(aes(total_cases, population_density, col = location, legend = FALSE)) + geom_point(show.legend = F) + scale_y_log10() + scale_x_log10()
dat %>% filter(date == as.Date('2021-11-01')) %>% select(date, location, total_cases, total_deaths, total_cases_per_million, population_density) %>% ggplot(aes(total_cases_per_million, population_density, col = location, legend = FALSE)) + geom_point(show.legend = F) + scale_y_log10() + scale_x_log10()
dat %>% filter(date == as.Date('2021-11-01')) %>% select(date, location, total_cases, total_deaths, total_cases_per_million, population_density) %>% ggplot(aes(y = total_cases_per_million, population_density, col = location, legend = FALSE)) + geom_point(show.legend = F) + scale_y_log10() + scale_x_log10()
dat %>% filter(date == as.Date('2021-11-01')) %>% select(date, location, total_cases, total_deaths, total_cases_per_million, population_density) %>% ggplot(aes(y = total_cases_per_million, population_density, col = location, legend = FALSE)) + geom_point(show.legend = F) + scale_y_log10()
dat %>% filter(date == as.Date('2021-11-01'), population_density < 1000) %>% select(date, location, total_cases, total_deaths, total_cases_per_million, population_density) %>% ggplot(aes(y = total_cases_per_million, population_density, col = location, legend = FALSE)) + geom_point(show.legend = F) + scale_y_log10()
library(corrplot)
dat %>% filter(date == as.Date('2021-11-01'), population_density < 1000) %>% select(date, location, total_cases, total_deaths, total_cases_per_million, population_density) %>% cor()
dat %>% filter(date == as.Date('2021-11-01'), population_density < 1000) %>% select(\total_cases, total_deaths, total_cases_per_million, population_density) %>% cor()
dat %>% filter(date == as.Date('2021-11-01'), population_density < 1000) %>% select(total_cases, total_deaths, total_cases_per_million, population_density) %>% cor()
dat %>% filter(date == as.Date('2021-11-01'), population_density < 1000) %>% select(total_cases, total_deaths, total_cases_per_million, population_density) %>% cor(use = 'co')
dat %>% filter(date == as.Date('2021-11-01'), population_density < 1000) %>% select(total_cases, total_deaths, total_cases_per_million, population_density) %>% cor(use = 'co') %>% corrplot()
dat %>% filter(date == as.Date('2021-11-01'), population_density < 1000) %>% select(total_cases, total_deaths, total_cases_per_million, population_density) %>% cor(use = 'co') %>% scale(center = T) %>% corrplot()
dat %>% filter(date == as.Date('2021-11-01'), population_density < 1000) %>% select(total_cases, total_deaths, total_cases_per_million, population_density)%>% scale(center = T) %>% cor(use = 'co')  %>% corrplot()
dat %>% filter(date == as.Date('2021-11-01'), population_density < 1000) %>% select(total_cases, total_deaths, total_cases_per_million, population_density)%>% scale(center = T) %>% cor(use = 'co')
